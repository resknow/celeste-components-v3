<button
	x-on:click="menuIsOpen = !menuIsOpen"
	x-bind:class="{ 'is-active': menuIsOpen }"
	x-bind:aria-expanded="menuIsOpen ? 'true' : 'false'"
	class="hamburger tap-target"
	type="button"
	aria-expanded="false"
	aria-controls="main-menu"
	aria-label="Toggle navigation"
>
	<svg viewbox="0 0 60 40">
		<g stroke="currentColor" stroke-width="4" stroke-linecap="round" stroke-linejoin="round">
			<path id="top-line" d="M10,10 L50,10 Z"></path>
			<path id="middle-line" d="M10,20 L50,20 Z"></path>
			<path id="bottom-line" d="M10,30 L50,30 Z"></path>
		</g>
	</svg>
</button>

<Style>
	.hamburger svg {
		width: 2em;
	}

	.hamburger #top-line,
	.hamburger #bottom-line,
	.hamburger #middle-line {
		transform-box: fill-box;
		transform-origin: center;
	}

	.hamburger[aria-expanded="true"] svg {
		#top-line {
			animation: down-rotate 0.6s ease-out both;
		}
		#bottom-line {
			animation: up-rotate 0.6s ease-out both;
		}
		#middle-line {
			animation: hide 0.6s ease-out forwards;
		}
	}

	@keyframes up-rotate {
		0% {
			animation-timing-function: cubic-bezier(0.16, -0.88, 0.97, 0.53);
			transform: translateY(0px);
		}
		30% {
			transform-origin: center;
			animation-timing-function: cubic-bezier(0.34, 1.56, 0.64, 1);
			transform: translateY(-10px);
		}
		100% {
			transform-origin: center;
			transform: translateY(-10px) rotate(45deg) scale(0.9);
		}
	}

	@keyframes down-rotate {
		0% {
			animation-timing-function: cubic-bezier(0.16, -0.88, 0.97, 0.53);
			transform: translateY(0px);
		}
		30% {
			transform-origin: center;
			animation-timing-function: cubic-bezier(0.34, 1.56, 0.64, 1);
			transform: translateY(10px);
		}
		100% {
			transform-origin: center;
			transform: translateY(10px) rotate(-45deg) scale(0.9);
		}
	}

	@keyframes hide {
		29% {
			opacity: 1;
		}
		30% {
			opacity: 0;
		}
		100% {
			opacity: 0;
		}
	}
</Style>