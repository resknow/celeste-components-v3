<div class="wp-block-acf-welcome">
	<div @if="preview" class="text-center text-lg px-container py-content">
		<p>Delete this block to get started.</p>
	</div>

	<header @if="not preview" class="wp-block-acf-welcome__hero">
		<div class="wp-block-acf-welcome__hero-background">
			<Welcome.Background />
		</div>
		<div class="wp-block-acf-welcome__hero-overlay flex items-end justify-center pb-lg md:pb-3xl">
			<div>
				<div class="celeste-logo relative text-center w-fit mx-auto">
					<span class="block font-mono text-xs pb-1 text-right text-violet-200">v{{ theme_version }}</span>
                    <Welcome.Logo />
				</div>
				<p class="text-lg mt-sm">
                    To get started, head over to the <a class="text-yellow-400 font-bold hover:text-yellow-300" href="/wp-admin/post.php?post=2&action=edit">Editor</a> and delete the <strong>Welcome</strong> block!
                </p>
				<Icon name="caret-down" class="wp-block-acf-welcome__hero-scroll mx-auto mt-xs" />
			</div>
		</div>
	</header>

	<div
		@if="changelog"
		id="changelog"
		class="changelog px-container py-20"
		x-data="{ isExpanded: false }"
		x-bind:data-expanded="isExpanded ? 'true' : 'false'"
	>
		<div class="prose">
			<h2 class="h1">Changelog</h2>
			{{ changelog | raw }}
		</div>
		<Button
			size="sm"
			type="button"
			x-on:click="console.log('Bruh'); isExpanded = !isExpanded"
			x-text="isExpanded ? 'Show less' : 'Show more'"
		>
			Show more
		</Button>
	</div>
</div>

<Style>
	body:has(.entry-content .wp-block-acf-welcome) .wp-block-acf-header,
	body:has(.entry-content .wp-block-acf-welcome) .wp-block-acf-footer {
		display: none;
	}

	.acf-block-preview .wp-block-acf-welcome :is(a, button) {
		@apply pointer-events-none;
	}

	.wp-block-acf-welcome {
		background-color: var(--color-gray-950);
		color: var(--color-white);
	}

	.wp-block-acf-welcome a {
		color: var(--color-highlight);
		font-weight: 700;
	}

	.wp-block-acf-welcome a:hover {
		color: var(--color-white);
	}

	.wp-block-acf-welcome code {
		@apply bg-violet-900 text-violet-200 text-sm px-2 py-1 rounded-xs whitespace-nowrap;
	}

	.changelog .prose {
		height: 22rem;
		overflow: clip;
	}

	.changelog[data-expanded="true"] .prose {
		height: auto;
	}

	.wp-block-acf-welcome__hero {
		display: grid;
		overflow-x: hidden;
	}

	.wp-block-acf-welcome__hero > * {
		grid-column: 1;
		grid-row: 1;
	}

	.wp-block-acf-welcome__mountain-scape {
		--bezier: cubic-bezier(0.331, 0.441, 0.444, 1.649);
		width: 100%;
		height: auto;
	}

	.wp-block-acf-welcome__mountain-scape .cloud-1 {
		animation: mountainScapeCloud1Sway 10s var(--bezier) infinite alternate;
	}

	.wp-block-acf-welcome__mountain-scape .cloud-2 {
		animation: mountainScapeCloud2Sway 9s var(--bezier) infinite alternate;
	}

	.wp-block-acf-welcome__mountain-scape .cloud-3 {
		animation: mountainScapeCloud1Sway 10s var(--bezier) infinite alternate;
	}

	.wp-block-acf-welcome__mountain-scape .cloud-4 {
		animation: mountainScapeCloud2Sway 9s var(--bezier) infinite alternate;
	}

	.wp-block-acf-welcome__mountain-scape .sun-inner {
		animation: mountainScapeSunRise 6s ease-in-out forwards;
		transform-origin: bottom;
		transform: scale(0);
	}

	.wp-block-acf-welcome__mountain-scape .sun-center {
		animation: mountainScapeSunRise 6s ease-in-out forwards;
		animation-delay: 0.2s;
		transform-origin: bottom;
		transform: scale(0);
	}

	.wp-block-acf-welcome__mountain-scape .sun-outer {
		animation: mountainScapeSunRise 6s ease-in-out forwards;
		animation-delay: 0.4s;
		transform-origin: bottom;
		transform: scale(0);
	}

	.wp-block-acf-welcome__mountain-scape .twinkle {
		animation: mountainScapeTwinkle 10s ease-in-out infinite;
	}

	.wp-block-acf-welcome .celeste-logo {
		animation: celesteLogoFade 4.5s ease forwards;
		animation-delay: 1.5s;
		opacity: 0;
		transform: translateY(1rem);
		margin-inline: auto;
	}

	.wp-block-acf-welcome .celeste-logo svg {
		height: var(--space-lg);
		width: auto;
	}

	.wp-block-acf-welcome__hero-scroll {
		animation: floatingIcon 1.5s ease infinite;
	}

	@keyframes mountainScapeCloud1Sway {
		0% {
			transform: translateX(0);
		}

		50% {
			transform: translateX(-1%);
		}

		100% {
			transform: translateX(0);
		}
	}

	@keyframes mountainScapeCloud2Sway {
		0% {
			transform: translateX(0);
		}

		50% {
			transform: translateX(2%);
		}

		100% {
			transform: translateX(0);
		}
	}

	@keyframes mountainScapeSunRise {
		0% {
			transform: scale(0);
		}

		100% {
			transform: scale(1);
		}
	}

	@keyframes mountainScapeTwinkle {
		0% {
			opacity: 1;
		}

		50% {
			opacity: 0.3;
		}

		100% {
			opacity: 1;
		}
	}

	@keyframes celesteLogoFade {
		0% {
			opacity: 0;
			transform: translateY(1rem);
		}

		35% {
			transform: translateY(0);
		}

		100% {
			opacity: 1;
			transform: translateY(0);
		}
	}

	@keyframes floatingIcon {
		0% {
			transform: translateY(0);
		}

		50% {
			transform: translateY(-0.5rem);
		}

		100% {
			transform: translateY(0);
		}
	}
</Style>